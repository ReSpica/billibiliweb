{"remainingRequest":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\babel-loader\\lib\\index.js!D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\src\\network\\http.js","dependencies":[{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\src\\network\\http.js","mtime":1594691669719},{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7IC8v546v5aKD5pS55Y+Y5Y+Y5YyW6K+35rGC55qEdXJsCgppZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50JykgewogIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAnaHR0cHM6Ly93d3cuZmFzdG1vY2suc2l0ZS9tb2NrLzBjYzgzNTNhNjg1MTFhYWQ3MjJhYTM4NzYxMGE0Y2UxJzsKfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PSAnZGVidWcnKSB7CiAgYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICdodHRwczovL3d3dy5mYXN0bW9jay5zaXRlL21vY2svMGNjODM1M2E2ODUxMWFhZDcyMmFhMzg3NjEwYTRjZTEnOwp9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICdwcm9kdWN0aW9uJykgewogIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAnaHR0cHM6Ly93d3cuZmFzdG1vY2suc2l0ZS9tb2NrLzBjYzgzNTNhNjg1MTFhYWQ3MjJhYTM4NzYxMGE0Y2UxJzsKfSAvL+iuvue9rui/h+acn+aXtumXtAoKCmF4aW9zLmRlZmF1bHRzLnRpbWVvdXQgPSAxMDAwMDsgLy/orr7nva5wb3N0CgpheGlvcy5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JzsgLy/or7fmsYLmi6bmiKoKCmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UuZXJyb3IoZXJyb3IpOwp9KTsgLy8g5ZON5bqU5oum5oiq5ZmoCgpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSk7CiAgfQp9LCAvLyDmnI3liqHlmajnirbmgIHnoIHkuI3mmK8y5byA5aS055qE55qE5oOF5Ya1Ci8vIOi/memHjOWPr+S7pei3n+S9oOS7rOeahOWQjuWPsOW8gOWPkeS6uuWRmOWNj+WVhuWlvee7n+S4gOeahOmUmeivr+eKtuaAgeeggSAgICAKLy8g54S25ZCO5qC55o2u6L+U5Zue55qE54q25oCB56CB6L+b6KGM5LiA5Lqb5pON5L2c77yM5L6L5aaC55m75b2V6L+H5pyf5o+Q56S677yM6ZSZ6K+v5o+Q56S6562J562JCi8vIOS4i+mdouWIl+S4vuWHoOS4quW4uOingeeahOaTjeS9nO+8jOWFtuS7lumcgOaxguWPr+iHquihjOaJqeWxlQpmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IucmVzcG9uc2UpOwp9KTsKLyoqDQogKiBnZXTmlrnms5XvvIzlr7nlupRnZXTor7fmsYINCiAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgW+ivt+axgueahHVybOWcsOWdgF0NCiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgW+ivt+axguaXtuaQuuW4pueahOWPguaVsF0NCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldCh1cmwsIHBhcmFtcykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBheGlvcy5nZXQodXJsLCB7CiAgICAgIHBhcmFtczogcGFyYW1zCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHJlamVjdChlcnIuZGF0YSk7CiAgICB9KTsKICB9KTsKfQovKiogDQogKiBwb3N05pa55rOV77yM5a+55bqUcG9zdOivt+axgiANCiAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgW+ivt+axgueahHVybOWcsOWdgF0gDQogKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFvor7fmsYLml7bmkLrluKbnmoTlj4LmlbBdIA0KICovCgpleHBvcnQgZnVuY3Rpb24gcG9zdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBheGlvcy5wb3N0KHVybCwgUVMuc3RyaW5naWZ5KHBhcmFtcykpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgcmVqZWN0KGVyci5kYXRhKTsKICAgIH0pOwogIH0pOwp9"},{"version":3,"sources":["D:/Live/maintry/work/spica-projects/bilibiliweb/src/network/http.js"],"names":["axios","process","env","NODE_ENV","defaults","baseURL","timeout","headers","post","interceptors","request","use","config","error","Promise","response","status","resolve","reject","get","url","params","then","res","data","catch","err","QS","stringify"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,aAA5B,EAA2C;AAC1CH,EAAAA,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,iEAAzB;AACA,CAFD,MAEO,IAAIJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,OAA5B,EAAqC;AAC3CH,EAAAA,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,iEAAzB;AACA,CAFM,MAEA,IAAIJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,YAA5B,EAA0C;AAChDH,EAAAA,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,iEAAzB;AACA,C,CAED;;;AACAL,KAAK,CAACI,QAAN,CAAeE,OAAf,GAAyB,KAAzB,C,CACA;;AACAN,KAAK,CAACI,QAAN,CAAeG,OAAf,CAAuBC,IAAvB,CAA4B,cAA5B,IAA8C,iDAA9C,C,CACA;;AACAR,KAAK,CAACS,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACC,UAAAC,MAAM,EAAI;AACT,SAAOA,MAAP;AACA,CAHF,EAIC,UAAAC,KAAK,EAAI;AACR,SAAOC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAP;AACA,CANF,E,CAQA;;AACAb,KAAK,CAACS,YAAN,CAAmBM,QAAnB,CAA4BJ,GAA5B,CACC,UAAAI,QAAQ,EAAI;AACX,MAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC5B,WAAOF,OAAO,CAACG,OAAR,CAAgBF,QAAhB,CAAP;AACA,GAFD,MAEO;AACN,WAAOD,OAAO,CAACI,MAAR,CAAeH,QAAf,CAAP;AACA;AACD,CAPF,EAQC;AACA;AACA;AACA;AACA,UAAAF,KAAK,EAAI;AACR,SAAOC,OAAO,CAACI,MAAR,CAAeL,KAAK,CAACE,QAArB,CAAP;AACA,CAdF;AAmBA;;;;;;AAKA,OAAO,SAASI,GAAT,CAAaC,GAAb,EAAkBC,MAAlB,EAA0B;AAChC,SAAO,IAAIP,OAAJ,CAAY,UAACG,OAAD,EAAUC,MAAV,EAAqB;AACvClB,IAAAA,KAAK,CAACmB,GAAN,CAAUC,GAAV,EAAe;AACdC,MAAAA,MAAM,EAAEA;AADM,KAAf,EAEGC,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACdN,MAAAA,OAAO,CAACM,GAAG,CAACC,IAAL,CAAP;AACA,KAJD,EAIGC,KAJH,CAIS,UAAAC,GAAG,EAAI;AACfR,MAAAA,MAAM,CAACQ,GAAG,CAACF,IAAL,CAAN;AACA,KAND;AAOA,GARM,CAAP;AASA;AAID;;;;;;AAKA,OAAO,SAAShB,IAAT,CAAcY,GAAd,EAAmBC,MAAnB,EAA2B;AACjC,SAAO,IAAIP,OAAJ,CAAY,UAACG,OAAD,EAAUC,MAAV,EAAqB;AACvClB,IAAAA,KAAK,CAACQ,IAAN,CAAWY,GAAX,EAAgBO,EAAE,CAACC,SAAH,CAAaP,MAAb,CAAhB,EACEC,IADF,CACO,UAAAC,GAAG,EAAI;AACZN,MAAAA,OAAO,CAACM,GAAG,CAACC,IAAL,CAAP;AACA,KAHF,EAIEC,KAJF,CAIQ,UAAAC,GAAG,EAAI;AACbR,MAAAA,MAAM,CAACQ,GAAG,CAACF,IAAL,CAAN;AACA,KANF;AAOA,GARM,CAAP;AASA","sourcesContent":["import axios from 'axios'\r\n\r\n//环境改变变化请求的url\r\nif (process.env.NODE_ENV == 'development') {\r\n\taxios.defaults.baseURL = 'https://www.fastmock.site/mock/0cc8353a68511aad722aa387610a4ce1';\r\n} else if (process.env.NODE_ENV == 'debug') {\r\n\taxios.defaults.baseURL = 'https://www.fastmock.site/mock/0cc8353a68511aad722aa387610a4ce1';\r\n} else if (process.env.NODE_ENV == 'production') {\r\n\taxios.defaults.baseURL = 'https://www.fastmock.site/mock/0cc8353a68511aad722aa387610a4ce1';\r\n}\r\n\r\n//设置过期时间\r\naxios.defaults.timeout = 10000;\r\n//设置post\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\r\n//请求拦截\r\naxios.interceptors.request.use(\r\n\tconfig => {\r\n\t\treturn config;\r\n\t},\r\n\terror => {\r\n\t\treturn Promise.error(error);\r\n\t})\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use(\r\n\tresponse => {\r\n\t\tif (response.status === 200) {\r\n\t\t\treturn Promise.resolve(response);\r\n\t\t} else {\r\n\t\t\treturn Promise.reject(response);\r\n\t\t}\r\n\t},\r\n\t// 服务器状态码不是2开头的的情况\r\n\t// 这里可以跟你们的后台开发人员协商好统一的错误状态码    \r\n\t// 然后根据返回的状态码进行一些操作，例如登录过期提示，错误提示等等\r\n\t// 下面列举几个常见的操作，其他需求可自行扩展\r\n\terror => {\r\n\t\treturn Promise.reject(error.response);\r\n\t}\r\n);\r\n\r\n\r\n\r\n/**\r\n * get方法，对应get请求\r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function get(url, params) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\taxios.get(url, {\r\n\t\t\tparams: params\r\n\t\t}).then(res => {\r\n\t\t\tresolve(res.data);\r\n\t\t}).catch(err => {\r\n\t\t\treject(err.data)\r\n\t\t})\r\n\t});\r\n}\r\n\r\n\r\n\r\n/** \r\n * post方法，对应post请求 \r\n * @param {String} url [请求的url地址] \r\n * @param {Object} params [请求时携带的参数] \r\n */\r\nexport function post(url, params) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\taxios.post(url, QS.stringify(params))\r\n\t\t\t.then(res => {\r\n\t\t\t\tresolve(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\treject(err.data)\r\n\t\t\t})\r\n\t});\r\n}\n"]}]}