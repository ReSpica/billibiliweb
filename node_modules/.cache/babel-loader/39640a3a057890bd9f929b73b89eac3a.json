{"remainingRequest":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\babel-loader\\lib\\index.js!D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\src\\network\\http.js","dependencies":[{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\src\\network\\http.js","mtime":1595148497299},{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBRUyBmcm9tICdxcyc7IC8v55So5LqO5ZON5bqU5oum5oiq5Lit5L2/55So6Lez6L2scm91dGVyCgppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlci9pbmRleC5qcyc7IC8v55So5LqO5ZON5bqU5oum5oiqL+ivt+axguaLpuaIquS4reS9v+eUqOi9u+aPkOekugoKaW1wb3J0IHZ1ZSBmcm9tICd2dWUnOyAvL+eOr+Wig+aUueWPmOWPmOWMluivt+axgueahHVybAoKaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICdkZXZlbG9wbWVudCcpIHsKICBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gJ2h0dHA6Ly8xMTIuNzQuOTkuNTozMDAwL3dlYi9hcGknOwp9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICdkZWJ1ZycpIHsKICBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gJ2h0dHA6Ly8xMTIuNzQuOTkuNTozMDAwL3dlYi9hcGknOwp9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICdwcm9kdWN0aW9uJykgewogIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAnaHR0cDovLzExMi43NC45OS41OjMwMDAvd2ViL2FwaSc7Cn0gLy/orr7nva7ov4fmnJ/ml7bpl7QKCgpheGlvcy5kZWZhdWx0cy50aW1lb3V0ID0gMTAwMDA7IC8v6K6+572ucG9zdAovLyBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JzsKLy/or7fmsYLmi6bmiKoKCmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy/mi6bmiKrpmaTkuobnmbvlvZXlkozms6jlhozor7fmsYLvvIzmlL7kuKp0b2tlbuS4iuWOuwogIGlmIChjb25maWcudXJsID09ICdsb2dpbicgfHwgY29uZmlnLnVybCA9PSAncmVnaXN0ZXInKSB7CiAgICByZXR1cm4gY29uZmlnOwogIH0gZWxzZSB7CiAgICB2dWUucHJvdG90eXBlLiR0aXAubG9hZGluZygpOwogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgcmV0dXJuIGNvbmZpZzsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHJldHVybiBQcm9taXNlLmVycm9yKGVycm9yKTsKfSk7IC8vIOWTjeW6lOaLpuaIquWZqAoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICB2dWUucHJvdG90eXBlLiR0aXAuY2xlYXIoKTsKCiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTsKICB9IGVsc2UgewogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKTsKICB9Cn0sIC8vIOacjeWKoeWZqOeKtuaAgeeggeS4jeaYrzLlvIDlpLTnmoTnmoTmg4XlhrUKLy8g6L+Z6YeM5Y+v5Lul6Lef5L2g5Lus55qE5ZCO5Y+w5byA5Y+R5Lq65ZGY5Y2P5ZWG5aW957uf5LiA55qE6ZSZ6K+v54q25oCB56CBICAgIAovLyDnhLblkI7moLnmja7ov5Tlm57nmoTnirbmgIHnoIHov5vooYzkuIDkupvmk43kvZzvvIzkvovlpoLnmbvlvZXov4fmnJ/mj5DnpLrvvIzplJnor6/mj5DnpLrnrYnnrYkKLy8g5LiL6Z2i5YiX5Li+5Yeg5Liq5bi46KeB55qE5pON5L2c77yM5YW25LuW6ZyA5rGC5Y+v6Ieq6KGM5omp5bGVCmZ1bmN0aW9uIChlcnJvcikgewogIHZ1ZS5wcm90b3R5cGUuJHRpcC5jbGVhcigpOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvci5yZXNwb25zZSk7Cn0pOwovKioNCiAqIGdldOaWueazle+8jOWvueW6lGdldOivt+axgg0KICogQHBhcmFtIHtTdHJpbmd9IHVybCBb6K+35rGC55qEdXJs5Zyw5Z2AXQ0KICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBb6K+35rGC5pe25pC65bim55qE5Y+C5pWwXQ0KICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGF4aW9zLmdldCh1cmwsIHsKICAgICAgcGFyYW1zOiBwYXJhbXMKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgcmVqZWN0KGVyci5kYXRhKTsKICAgIH0pOwogIH0pOwp9Ci8qKiANCiAqIHBvc3Tmlrnms5XvvIzlr7nlupRwb3N06K+35rGCIA0KICogQHBhcmFtIHtTdHJpbmd9IHVybCBb6K+35rGC55qEdXJs5Zyw5Z2AXSANCiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgW+ivt+axguaXtuaQuuW4pueahOWPguaVsF0gDQogKi8KCmV4cG9ydCBmdW5jdGlvbiBwb3N0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGF4aW9zLnBvc3QodXJsLCBRUy5zdHJpbmdpZnkocGFyYW1zKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiB1cGxvYWQodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgYXhpb3MucG9zdCh1cmwsIHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXQxKHVybCwgZSwgcGFyYW1zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGF4aW9zLmdldCh1cmwgKyBlLCB7CiAgICAgIHBhcmFtczogcGFyYW1zCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHJlamVjdChlcnIuZGF0YSk7CiAgICB9KTsKICB9KTsKfQ=="},{"version":3,"sources":["D:/Live/maintry/work/spica-projects/bilibiliweb/src/network/http.js"],"names":["axios","QS","router","vue","process","env","NODE_ENV","defaults","baseURL","timeout","interceptors","request","use","config","url","prototype","$tip","loading","headers","Authorization","localStorage","getItem","error","Promise","response","clear","status","resolve","reject","get","params","then","res","data","catch","err","post","stringify","upload","get1","e"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport QS from 'qs';\r\n//用于响应拦截中使用跳转router\r\nimport router from '../router/index.js'\r\n//用于响应拦截/请求拦截中使用轻提示\r\nimport vue from 'vue'\r\n\r\n\r\n//环境改变变化请求的url\r\nif (process.env.NODE_ENV == 'development') {\r\n\taxios.defaults.baseURL = 'http://112.74.99.5:3000/web/api';\r\n} else if (process.env.NODE_ENV == 'debug') {\r\n\taxios.defaults.baseURL = 'http://112.74.99.5:3000/web/api';\r\n} else if (process.env.NODE_ENV == 'production') {\r\n\taxios.defaults.baseURL = 'http://112.74.99.5:3000/web/api';\r\n}\r\n\r\n//设置过期时间\r\naxios.defaults.timeout = 10000;\r\n//设置post\r\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\r\n//请求拦截\r\naxios.interceptors.request.use(\r\n\tconfig => {\r\n\t\t//拦截除了登录和注册请求，放个token上去\r\n\t\tif(config.url == 'login' || config.url == 'register'){\r\n\t\t\treturn config;\r\n\t\t}else{\r\n\t\t\tvue.prototype.$tip.loading()\r\n\t\t\tconfig.headers.Authorization  = localStorage.getItem('token')\r\n\t\t\treturn config;\r\n\t\t}\r\n\t},\r\n\terror => {\r\n\t\treturn Promise.error(error);\r\n\t})\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use(\r\n\tresponse => {\r\n\t\tvue.prototype.$tip.clear()\r\n\t\tif (response.status === 200) {\r\n\t\t\treturn Promise.resolve(response);\r\n\t\t} else {\r\n\t\t\treturn Promise.reject(response);\r\n\t\t}\r\n\t},\r\n\t// 服务器状态码不是2开头的的情况\r\n\t// 这里可以跟你们的后台开发人员协商好统一的错误状态码    \r\n\t// 然后根据返回的状态码进行一些操作，例如登录过期提示，错误提示等等\r\n\t// 下面列举几个常见的操作，其他需求可自行扩展\r\n\terror => {\r\n\t\tvue.prototype.$tip.clear()\r\n\t\treturn Promise.reject(error.response);\r\n\t}\r\n);\r\n\r\n\r\n\r\n/**\r\n * get方法，对应get请求\r\n * @param {String} url [请求的url地址]\r\n * @param {Object} params [请求时携带的参数]\r\n */\r\nexport function get(url, params) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\taxios.get(url, {\r\n\t\t\tparams: params\r\n\t\t}).then(res => {\r\n\t\t\tresolve(res.data);\r\n\t\t}).catch(err => {\r\n\t\t\treject(err.data)\r\n\t\t})\r\n\t});\r\n}\r\n\r\n\r\n\r\n/** \r\n * post方法，对应post请求 \r\n * @param {String} url [请求的url地址] \r\n * @param {Object} params [请求时携带的参数] \r\n */\r\nexport function post(url, params) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\taxios.post(url, QS.stringify(params))\r\n\t\t\t.then(res => {\r\n\t\t\t\tresolve(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\treject(err)\r\n\t\t\t})\r\n\t});\r\n}\r\n\r\n\r\n\r\nexport function upload(url, params) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\taxios.post(url, params)\r\n\t\t\t.then(res => {\r\n\t\t\t\tresolve(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\treject(err)\r\n\t\t\t})\r\n\t});\r\n}\r\n\r\n\r\n\r\nexport function get1(url, e,params) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\taxios.get(url+e, {\r\n\t\t\tparams: params\r\n\t\t}).then(res => {\r\n\t\t\tresolve(res.data);\r\n\t\t}).catch(err => {\r\n\t\t\treject(err.data)\r\n\t\t})\r\n\t});\r\n}"]}]}