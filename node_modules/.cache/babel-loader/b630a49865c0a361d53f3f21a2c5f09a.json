{"remainingRequest":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\babel-loader\\lib\\index.js!D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\src\\views\\useredit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\src\\views\\useredit.vue","mtime":1595140803893},{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Live\\maintry\\work\\spica-projects\\bilibiliweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovTGl2ZS9tYWludHJ5L3dvcmsvc3BpY2EtcHJvamVjdHMvYmlsaWJpbGl3ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovL2FwaQppbXBvcnQgeyB1c2VyaW5mbywgdXBsb2FkMSwgdXNlcnVwZGF0ZSB9IGZyb20gIkAvbmV0d29yay91c2VyLmpzIjsgLy/nu4Tku7YKCmltcG9ydCBOYXZCYXIgZnJvbSAiQC9jb21wb25lbnRzL2NvbW1vbS9OYXZCYXIudnVlIjsKaW1wb3J0IEVkaXRCdG4gZnJvbSAiQC9jb21wb25lbnRzL2NvbW1vbS9FZGl0QnRuLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZWw6IHt9LAogICAgICB2YW5zaG93OiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVzZXJpbmZvRGF0YTogZnVuY3Rpb24gdXNlcmluZm9EYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJpbmZvKHt9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMubW9kZWwgPSByZXNbMF07CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5Zu+54mH5LiK5LygCiAgICBhZnRlclJlYWQ6IGZ1bmN0aW9uIGFmdGVyUmVhZChmaWxlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGZvcm1kYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyDmraTml7blj6/ku6Xoh6rooYzlsIbmlofku7bkuIrkvKDoh7PmnI3liqHlmagKICAgICAgICAgICAgICAgIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtZGF0YS5hcHBlbmQoImZpbGUiLCBmaWxlLmZpbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHVwbG9hZDEoZm9ybWRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICBfdGhpczIubW9kZWwudXNlcl9pbWcgPSByZXMudXJsOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzMi5lZGl0KCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VydXBkYXRlKF90aGlzMy5tb2RlbCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZWRpdEJ0bkNsaWNrOiBmdW5jdGlvbiBlZGl0QnRuQ2xpY2soKSB7CiAgICAgIHRoaXMudmFuc2hvdyA9IHRydWU7CiAgICB9LAogICAgZGlhbG9nQ2xpY2s6IGZ1bmN0aW9uIGRpYWxvZ0NsaWNrKCkgewogICAgICB0aGlzLmVkaXQoKTsKICAgIH0sCiAgICBlZGl0YmFja0NsaWNrOiBmdW5jdGlvbiBlZGl0YmFja0NsaWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgTmF2QmFyOiBOYXZCYXIsCiAgICBFZGl0QnRuOiBFZGl0QnRuCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy51c2VyaW5mb0RhdGEoKTsKICB9Cn07"},{"version":3,"sources":["useredit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA,SAAA,QAAA,EAAA,OAAA,EAAA,UAAA,QAAA,mBAAA,C,CACA;;AACA,OAAA,MAAA,MAAA,gCAAA;AACA,OAAA,OAAA,MAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,QAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,CAAA,CAAA;AACA,iBAFA,CADA;;AAAA;AACA,gBAAA,GADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KALA;AAMA;AACA,IAAA,SAPA,qBAOA,IAPA,EAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,QAFA,GAEA,IAAA,QAAA,EAFA;AAGA,gBAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA;AAHA;AAAA,uBAIA,OAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,kBAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,GAAA;AACA,iBAHA,CAJA;;AAAA;AASA,gBAAA,MAAA,CAAA,IAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,KAjBA;AAkBA,IAAA,IAlBA,kBAkBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,UAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,iBAFA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KAtBA;AAuBA,IAAA,YAvBA,0BAuBA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KAzBA;AA0BA,IAAA,WA1BA,yBA0BA;AACA,WAAA,IAAA;AACA,KA5BA;AA6BA,IAAA,aA7BA,2BA6BA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA;AA/BA,GAPA;AAwCA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,OAAA,EAAA;AAFA,GAxCA;AA4CA,EAAA,OA5CA,qBA4CA;AACA,SAAA,YAAA;AACA;AA9CA,CAAA","sourcesContent":["<template>\r\n  <div v-if=\"model\">\r\n    <navBar :model=\"model\"></navBar>\r\n\r\n    <div class=\"uploadfile\">\r\n      <van-uploader\r\n        class=\"uploading\"\r\n        :after-read=\"afterRead\"\r\n        preview-size=\"100vw\"\r\n      />\r\n      <EditBtn\r\n        style=\"margin-top:10px\"\r\n        left=\"头像\"\r\n      >\r\n        <img\r\n          v-if=\"model.user_img\"\r\n          :src=\"model.user_img\"\r\n          slot=\"right\"\r\n          alt=\"logo\"\r\n        />\r\n        <img\r\n          v-else\r\n          src=\"@/assets/imgs/userlogo.jpg\"\r\n          slot=\"right\"\r\n          alt=\"logo\"\r\n        />\r\n      </EditBtn>\r\n    </div>\r\n\r\n    <EditBtn\r\n      left=\"昵称\"\r\n      @editBtnClick=\"editBtnClick\"\r\n    ><a\r\n        href=\"javascript:;\"\r\n        slot=\"right\"\r\n      >{{model.name}}</a></EditBtn>\r\n\r\n    <EditBtn\r\n      left=\"账号\"\r\n      @editBtnClick=\"editBtnClick\"\r\n    ><a\r\n        href=\"javascript:;\"\r\n        slot=\"right\"\r\n      >{{model.username}}</a></EditBtn>\r\n\r\n    <EditBtn\r\n      left=\"个性签名\"\r\n      @editBtnClick=\"editBtnClick\"\r\n    ><a\r\n        href=\"javascript:;\"\r\n        slot=\"right\"\r\n      >{{model.user_desc}}</a></EditBtn>\r\n\r\n    <div @click=\"editbackClick\" class=\"editback d-flex ai-center jc-center bgc-p color-w\">返回个人信息页</div>\r\n\r\n    <!-- 弹出框 -->\r\n    <van-dialog\r\n      v-model=\"vanshow\"\r\n      title=\"修改\"\r\n      show-cancel-button\r\n      @confirm=\"dialogClick\"\r\n    >\r\n      <van-field\r\n        v-model=\"model.name\"\r\n        label=\"昵称\"\r\n      />\r\n      <van-field\r\n        v-model=\"model.username\"\r\n        label=\"账号\"\r\n      />\r\n      <van-field\r\n        v-model=\"model.user_desc\"\r\n        label=\"个人签名\"\r\n      />\r\n    </van-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//api\r\nimport { userinfo, upload1, userupdate } from \"@/network/user.js\";\r\n//组件\r\nimport NavBar from \"@/components/commom/NavBar.vue\";\r\nimport EditBtn from \"@/components/commom/EditBtn.vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      model: {},\r\n      vanshow: false\r\n    };\r\n  },\r\n  methods: {\r\n    async userinfoData() {\r\n      const res = await userinfo({}).then(res => {\r\n        this.model = res[0];\r\n      });\r\n    },\r\n    //图片上传\r\n    async afterRead(file) {\r\n      // 此时可以自行将文件上传至服务器\r\n      const formdata = new FormData();\r\n      formdata.append(\"file\", file.file);\r\n      await upload1(formdata).then(res => {\r\n        console.log(res);\r\n        this.model.user_img = res.url;\r\n      });\r\n\r\n      this.edit();\r\n    },\r\n    async edit() {\r\n      await userupdate(this.model).then(res => {\r\n        console.log(res);\r\n      });\r\n    },\r\n    editBtnClick() {\r\n      this.vanshow = true;\r\n    },\r\n    dialogClick() {\r\n      this.edit();\r\n    },\r\n    editbackClick(){\r\n        this.$router.go(-1)\r\n    }\r\n  },\r\n  components: {\r\n    NavBar,\r\n    EditBtn\r\n  },\r\n  created() {\r\n    this.userinfoData();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\nimg {\r\n  border-radius: 50%;\r\n  height: 10.667vw;\r\n  width: auto;\r\n}\r\n.uploadfile {\r\n  position: relative;\r\n  overflow: hidden;\r\n  .uploading {\r\n    position: absolute;\r\n    opacity: 0;\r\n  }\r\n}\r\n.editback {\r\n  font-size: 5vw;\r\n  padding: 4vw 0;\r\n  margin-top: 2.667vw;\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}